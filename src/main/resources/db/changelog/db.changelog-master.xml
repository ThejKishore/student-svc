<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">

    <changeSet id="0" author="admin">

        <createTable tableName="Student">
            <column name="student_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="student_id_key"></constraints>
            </column>
            <column name="first_name" type="varchar2" ></column>
            <column name="last_name" type="varchar2" ></column>
            <column name="sex" type="varchar2" ></column>
            <column name="age" type="int" ></column>
            <column name="class_id" type="bigint"></column>
        </createTable>

        <createTable tableName="Subject">
            <column name="subject_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="subject_id_key"></constraints>
            </column>

            <column name="subject_name" type="varchar2"></column>
        </createTable>

        <createTable tableName="Class">
            <column name="class_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="class_id_key"></constraints>
            </column>
            <column name="class_name" type="varchar2"></column>
            <column name="class_teacher_name" type="varchar2"></column>
        </createTable>

        <createTable tableName="student_marks">
            <column name="student_id" type="bigint">
                <constraints foreignKeyName="student_id_key"></constraints>
            </column>
            <column name="subject_id" type="bigint">
                <constraints foreignKeyName="subject_id_key"></constraints>
            </column>
            <column name="subject_mark" type="int"></column>
        </createTable>

        <insert tableName="Subject">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="English"></column>
        </insert>
        <insert tableName="Subject">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Math"></column>
        </insert>
        <insert tableName="Subject">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Science"></column>
        </insert>
        <insert tableName="Subject">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Social Studies"></column>
        </insert>
        <insert tableName="Subject">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Art"></column>
        </insert>

        <insert tableName="Class">
            <column name="class_id" autoIncrement="true"></column>
            <column name="class_name" value="third grade"></column>
            <column name="class_teacher_name" value="Mrs. Melissa"></column>
        </insert>
        <insert tableName="Class">
            <column name="class_id" autoIncrement="true"></column>
            <column name="class_name" value="kindergarden"></column>
            <column name="class_teacher_name" value="Mrs. Tracy"></column>
        </insert>
        <insert tableName="Class">
            <column name="class_id" autoIncrement="true"></column>
            <column name="class_name" value="first grade"></column>
            <column name="class_teacher_name" value="Mrs. Cetnar"></column>
        </insert>
        <insert tableName="Class">
            <column name="class_id" autoIncrement="true"></column>
            <column name="class_name" value="second grade"></column>
            <column name="class_teacher_name" value="Mrs. Debra"></column>
        </insert>
        <insert tableName="Class">
            <column name="class_id" autoIncrement="true"></column>
            <column name="class_name" value="fourth grade"></column>
            <column name="class_teacher_name" value="Mr. Josh"></column>
        </insert>
        <insert tableName="Class">
            <column name="class_id" autoIncrement="true"></column>
            <column name="class_name" value="fifth grade"></column>
            <column name="class_teacher_name" value="Mr. Venkat"></column>
        </insert>
    </changeSet>
    <changeSet id="1722133881814-1" author="thejkaruneegar">
        <dropColumn tableName="Student" columnName="class_id" ></dropColumn>
        <dropTable tableName="Class"></dropTable>
        <createTable tableName="Section">
            <column name="section_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="section_id_key"></constraints>
            </column>
            <column name="section_name" type="varchar2"></column>
            <column name="section_teacher_name" type="varchar2"></column>
        </createTable>
        <addColumn tableName="Student" >
            <column name="section_id" type="bigint">
                <constraints foreignKeyName="section_id_key"></constraints>
            </column>
        </addColumn>

        <insert tableName="Section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="third grade"></column>
            <column name="section_teacher_name" value="Mrs. Melissa"></column>
        </insert>
        <insert tableName="Section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="kindergarden"></column>
            <column name="section_teacher_name" value="Mrs. Tracy"></column>
        </insert>
        <insert tableName="Section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="first grade"></column>
            <column name="section_teacher_name" value="Mrs. Cetnar"></column>
        </insert>
        <insert tableName="Section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="second grade"></column>
            <column name="section_teacher_name" value="Mrs. Debra"></column>
        </insert>
        <insert tableName="Section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="fourth grade"></column>
            <column name="section_teacher_name" value="Mr. Josh"></column>
        </insert>
        <insert tableName="Section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="fifth grade"></column>
            <column name="section_teacher_name" value="Mr. Venkat"></column>
        </insert>

    </changeSet>
    <changeSet id="1722137021431-1" author="thejkaruneegar">
        <dropTable tableName="Student"></dropTable>
        <dropTable tableName="Section"></dropTable>
        <dropTable tableName="Subject"></dropTable>

        <createTable tableName="subjectDao">
            <column name="subject_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="subject_id_key"></constraints>
            </column>

            <column name="subject_name" type="varchar2"></column>
        </createTable>

        <createTable tableName="section">
            <column name="section_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="section_id_key"></constraints>
            </column>
            <column name="section_name" type="varchar2"></column>
            <column name="section_teacher_name" type="varchar2"></column>
        </createTable>

        <createTable tableName="studentDao">
            <column name="student_id" autoIncrement="true" type="bigint" >
                <constraints primaryKey="true" primaryKeyName="student_id_key"></constraints>
            </column>
            <column name="first_name" type="varchar2" ></column>
            <column name="last_name" type="varchar2" ></column>
            <column name="sex" type="varchar2" ></column>
            <column name="age" type="int" ></column>
            <column name="section_id" type="bigint">
                <constraints foreignKeyName="section_id_key"></constraints>
            </column>
        </createTable>

        <insert tableName="section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="third grade"></column>
            <column name="section_teacher_name" value="Mrs. Melissa"></column>
        </insert>
        <insert tableName="section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="kindergarden"></column>
            <column name="section_teacher_name" value="Mrs. Tracy"></column>
        </insert>
        <insert tableName="section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="first grade"></column>
            <column name="section_teacher_name" value="Mrs. Cetnar"></column>
        </insert>
        <insert tableName="section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="second grade"></column>
            <column name="section_teacher_name" value="Mrs. Debra"></column>
        </insert>
        <insert tableName="section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="fourth grade"></column>
            <column name="section_teacher_name" value="Mr. Josh"></column>
        </insert>
        <insert tableName="section">
            <column name="section_id" autoIncrement="true"></column>
            <column name="section_name" value="fifth grade"></column>
            <column name="section_teacher_name" value="Mr. Venkat"></column>
        </insert>


        <insert tableName="subjectDao">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="English"></column>
        </insert>
        <insert tableName="subjectDao">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Math"></column>
        </insert>
        <insert tableName="subjectDao">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Science"></column>
        </insert>
        <insert tableName="subjectDao">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Social Studies"></column>
        </insert>
        <insert tableName="subjectDao">
            <column name="subject_id" autoIncrement="true"></column>
            <column name="subject_name" value="Art"></column>
        </insert>

    </changeSet>
</databaseChangeLog>